/**
 * -----------------------------------------------------------------------------
 * @package     smartVISU
 * @author      Martin Gleiß
 * @copyright   2012
 * @license     GPL <http://www.gnu.de>
 * -----------------------------------------------------------------------------
 */


{% extends "rooms.html" %}
{% import "widgets/button.html" as button %}
{% block content %}

    <!--<h1><img class="icon" src='{{ icon0 }}scene_dinner.svg'/>Esszimmer</h1>-->
  <div class="html">
    <style>
		.nav-custom .ui-btn .ui-btn-inner { padding-top: 40px !important; }
		.nav-custom .ui-btn .ui-icon { width: 30px!important; height: 30px!important; margin-left: -15px !important; box-shadow: none!important; -moz-box-shadow: none!important; -webkit-box-shadow: none!important; -webkit-border-radius: 0 !important; border-radius: 0 !important; }
		#kochen .ui-icon { background:  url({{ icon0 }}scene_cooking_hob.svg) 50% 50% no-repeat; background-size: 36px 36px; }
		#essen .ui-icon { background:  url({{ icon0 }}scene_dinner.svg) 50% 50% no-repeat; background-size: 36px 36px;  }
		#wohnen .ui-icon { background:  url({{ icon0 }}it_television.svg) 50% 50% no-repeat;  background-size: 36px 36px; }
	</style>
	<div data-role="navbar" class="nav-custom">
		<ul>
			<li><a href="index.php?page=room1_kueche" id="kochen" data-icon="custom" data-prefetch>Kochbereich</a></li>
			<li><a href="index.php?page=room1_essen" class="ui-btn-active" id="essen" data-icon="custom" data-prefetch>Essbereich</a></li>
			<li><a href="index.php?page=room1_wohnen" id="wohnen" data-icon="custom" data-prefetch>Wohnbereich</a></li>
		</ul>
	</div>

    <div class="preblock">
		<div class="left">
			<span class="icon-text">Szenen&nbsp;&nbsp;&nbsp;</span>
			<span data-role="controlgroup" data-type="horizontal">
				{{ basic.dual('szene1', 'eg.kueche.szene.kochen', 'scene_cooking_hob.svg', 'scene_cooking_hob.svg', 1, 0, 'mini') }}
				{{ basic.dual('szene2', 'eg.essen.szene.essen', 'scene_dinner.svg', 'scene_dinner.svg', 1, 0, 'mini') }}
				{{ basic.dual('szene3', 'eg.wohnen.szene.fernsehen', 'scene_livingroom.svg', 'scene_livingroom.svg', 1, 0, 'mini') }}
				{{ basic.dual('szene4', 'eg.kueche.szene.party', 'scene_party.svg', 'scene_party.svg', 1, 0, 'mini') }}
				{{ basic.button('szene5', 'eg.szenen.kueche_essen_wohnen', 'Aus', 'control_on_off.svg', 13, 'mini') }}
			</span>
		</div>
		<div class="right">
			{% import "widgets/smoke_detector.html" as detector %}
			{{ detector.popup('smoke1', 'Rauchmelder Küche', 'eg.kueche.rm.vernetzung.alarm', 'eg.kueche.rm.vernetzung.testalarm', 'eg.kueche.rm.alarm_ruecksetzen', 'eg.kueche.rm.status.alarm',
				'eg.kueche.rm.status.testalarm', 'eg.kueche.rm.status.seriennummer', 'eg.kueche.rm.status.betriebszeit', 'eg.kueche.rm.status.rauchkammerwert', 'eg.kueche.rm.status.verschmutzungsgrad',
				'eg.kueche.rm.status.batterie_spannung', 'eg.kueche.rm.status.temperatur', 'eg.kueche.rm.status.fehlercode', 'eg.kueche.rm.status.batterie_leer', 'eg.kueche.rm.status.fehlfunktion',
				'eg.kueche.rm.status.anzahl.rauchalarme', 'eg.kueche.rm.status.anzahl.temperaturalarme', 'eg.kueche.rm.status.anzahl.testalarme', 'eg.kueche.rm.status.anzahl.drahtalarme', 'eg.kueche.rm.status.anzahl.busalarme',
				'eg.kueche.rm.status.anzahl.drahttestalarme', 'eg.kueche.rm.status.anzahl.bustestalarme') }}

			{{ detector.popup('smoke2', 'Rauchmelder Wohnen', 'eg.wohnen.rm.vernetzung.alarm', 'eg.wohnen.rm.vernetzung.testalarm', 'eg.wohnen.rm.alarm_ruecksetzen', 'eg.wohnen.rm.status.alarm',
				'eg.wohnen.rm.status.testalarm', 'eg.wohnen.rm.status.seriennummer', 'eg.wohnen.rm.status.betriebszeit', 'eg.wohnen.rm.status.rauchkammerwert', 'eg.wohnen.rm.status.verschmutzungsgrad',
				'eg.wohnen.rm.status.batterie_spannung', 'eg.wohnen.rm.status.temperatur', 'eg.wohnen.rm.status.fehlercode', 'eg.wohnen.rm.status.batterie_leer', 'eg.wohnen.rm.status.fehlfunktion',
				'eg.wohnen.rm.status.anzahl.rauchalarme', 'eg.wohnen.rm.status.anzahl.temperaturalarme', 'eg.wohnen.rm.status.anzahl.testalarme', 'eg.wohnen.rm.status.anzahl.drahtalarme', 'eg.wohnen.rm.status.anzahl.busalarme',
				'eg.wohnen.rm.status.anzahl.drahttestalarme', 'eg.wohnen.rm.status.anzahl.bustestalarme') }}

			{{ basic.symbol('pir1', 'eg.kueche.praesenz', '', 'message_presence_active.svg', 1) }}
				 {{ basic.symbol('pir2', 'eg.kueche.praesenz', '', 'message_presence.svg', 0) }}
			{{ basic.symbol('pir3', 'eg.wohnen.praesenz', '', 'message_presence_active.svg', 1) }}
				 {{ basic.symbol('pir4', 'eg.wohnen.praesenz', '', 'message_presence.svg', 0) }}

			{{ icon.shutter('eg.essen.shifter1', 'eg.essen.rollladen.ost.fahren', 'eg.essen.rollladen.ost.position', 0, 100 ) }}
			{{ icon.shutter('eg.essen.shifter2', 'eg.essen.rollladen.sued.fahren', 'eg.essen.rollladen.sued.position', 0, 100 ) }}
			{{ icon.shutter('eg.essen.shifter3', 'eg.essen.rollladen.west.fahren', 'eg.essen.rollladen.west.position', 0, 100 ) }}
                {{ basic.symbol('eg.essen.fensterauf', 'eg.essen.fenster.sued', '', 'fts_window_2w_open.svg', 2) }}
                {{ basic.symbol('eg.essen.fenstergekippt', 'eg.essen.fenster.sued', '', 'fts_window_2w_tilt.svg', 1) }}

		</div>
    </div>

    <div class="block">
    <div class="set-2" data-role="collapsible-set" data-theme="c" data-content-theme="a" data-mini="true">

    	<div data-role="collapsible" data-collapsed="false" >
            <h3>Deckenstrahler</h3>
            {{ device.dimmer('light1', 'Fensternische', 'eg.essen.beleuchtung.decke1.schalten', 'eg.essen.beleuchtung.decke1.dimmwert',0 , 100) }}
            {{ device.dimmer('light2', 'Mitte', 'eg.essen.beleuchtung.decke2.schalten', 'eg.essen.beleuchtung.decke2.dimmwert',0 , 100) }}
            {{ device.dimmer('light3', 'Flurseite', 'eg.essen.beleuchtung.decke3.schalten', 'eg.essen.beleuchtung.decke3.dimmwert',0 , 100) }}
            <!--RGB-Beleuchtung {{ basic.flip('flip1', 'eg.essen.beleuchtung.rgb.schalten', 'Ein', 'Aus') }}
            {{ basic.rgb('rgb1', 'eg.essen.beleuchtung.rgb.rot.dimmwert', 'eg.essen.beleuchtung.rgb.gruen.dimmwert', 'eg.essen.beleuchtung.rgb.blau.dimmwert') }}-->

        </div>
	<div data-role="collapsible">
            <h3>RGB-Beleuchtung</h3>
            <p>
	    {% import "widgets/rgb.html" as rgb %}
	    {{ rgb.rgb('rgb1', 'Indirekte Beleuchtung', 'eg.essen.beleuchtung.rgb.schalten', 'eg.essen.beleuchtung.rgb.rot.dimmwert', 'eg.essen.beleuchtung.rgb.gruen.dimmwert', 'eg.essen.beleuchtung.rgb.blau.dimmwert', 50, 150) }}</p>
        </div>

    </div>
    </div>


    <div class="block">
    <div class="set-2" data-role="collapsible-set" data-theme="c" data-content-theme="a" data-mini="true">

    	<div data-role="collapsible" data-collapsed="false">
            <h3>Rollladen</h3>
            {% import "widgets/shutter.html" as shutter %}
            <div class="ui-grid-b ui-responsive">
				<div class="ui-block-a">
					{{ shutter.three ('shutter1', 'Fenster Ost', 'eg.essen.rollladen.ost.position', 'eg.essen.rollladen.ost.beschatten' ) }}
				</div>
				<div class="ui-block-b">
					{{ shutter.three ('shutter2', 'Tür Süd', 'eg.essen.rollladen.sued.position', 'eg.essen.rollladen.sued.beschatten' ) }}
				</div>
				<div class="ui-block-c">
					{{ shutter.three ('shutter3', 'Fenster West', 'eg.essen.rollladen.west.position', 'eg.essen.rollladen.west.beschatten' ) }}
				</div>
			</div>
        </div>

    	<div data-role="collapsible">
          <h3>Status Tür</h3>
          {% import "widgets/window.html" as window %}
          <p>
            {{ window.two ('win1', 'Tür', 'eg.essen.fenster' ) }}
          </p>
        </div>
    </div>
    </div>
	
	<div class="block">
      <div class="set-2" data-role="collapsible-set" data-theme="c" data-content-theme="a" data-mini="true">
    	<div data-role="collapsible" data-collapsed="false" >
          <h3>Steckdosen</h3>
			<p>
		    {{ button.flip('flip1', 'eg.essen.steckdose.fenster.ost.schalten', 'Ein', 'Aus', 'Fenster Ostseite') }}
		    {{ button.flip('flip2', 'eg.essen.steckdose.fenster.sued.schalten', 'Ein', 'Aus', 'Fenster Südseite') }}
		    {{ button.flip('flip3', 'eg.essen.steckdose.fenster.west.schalten', 'Ein', 'Aus', 'Fenster Westseite') }}
		    {{ button.flip('flip4', 'eg.essen.steckdose.kamnin.schalten', 'Ein', 'Aus', 'Kamin') }}
			</p>
        </div>

	    <div data-role="collapsible">
            <h3>&nbsp;</h3>
            <p></p>
        </div>
      </div>
    </div>
    
    <div class="block">
    <div class="set-2" data-role="collapsible-set" data-theme="c" data-content-theme="a" data-mini="true">

    	<div data-role="collapsible" data-collapsed="false">
            <h3>Musik</h3>
            {% import "multimedia.html" as multi %}
			{{ multi.music ('music1', 'eg.kueche.musik.pause', '', 'eg.kueche.musik.vor_ruecklauf',
			     'eg.kueche.musik.weiter_zurueck', 'eg.kueche.musik.position', 'eg.kueche.musik.lautstaerke',
			     'eg.kueche.musik.stumm', 'eg.kueche.musik.titel', 'eg.kueche.musik.artist', 'eg.kueche.musik.repeat', '') }}
        </div>

    	<div data-role="collapsible">
            <h3>&nbsp;</h3>
            <p></p>
        </div>
    </div>
    </div>

    <div class="block">
      <div class="set-2" data-role="collapsible-set" data-theme="c" data-content-theme="a" data-mini="true">
    	<div data-role="collapsible">
            <h3>Luftfeuchtigkeit</h3>
         <!--   {{ device.rtr('eg.essen.rtr', 'Heizung', 'eg.essen.temperatur.luft', 'eg.essen.heizung.sollwert',
                'eg.essen.heizung.komfort', 'eg.essen.heizung.nacht', 'eg.essen.heizung.frost', 'eg.essen.heizung.schalten') }} -->
             {% import "plot.html" as plot %}
             {{ plot.comfortchart('comfort', 'eg.essen.temperatur.luft', 'eg.essen.luftfeuchtigkeit') }}
             Lufttemperatur:  {{ basic.value('temperatur', 'eg.essen.temperatur.luft', ' °C') }}&nbsp;&nbsp;&nbsp;&nbsp;
             relative Luftfeuchtigkeit: {{ basic.value('luftfeuchtigkeit', 'eg.essen.luftfeuchtigkeit', ' %') }}
        </div>
    	<div data-role="collapsible" data-collapsed="false">
            <h3>Lüftungsanlage</h3>
            {% import "widgets/fan.html" as fan %}
            {{ fan.switch ('fan1', 'zentral.lueftung.stufe', 'zentral.lueftung.auto', 'zentral.lueftung.schalten') }}
        </div>

      </div>
    </div>

    <div class="block">
		<div class="set-2" data-role="collapsible-set" data-theme="c" data-content-theme="a" data-mini="true">
			<div data-role="collapsible" data-collapsed="false">
				<h3>Temperaturen</h3>
				{{ plot.period('temp.raum', ['eg.essen.temperatur.luft', 'eg.essen.temperatur.boden'], 'avg', '24h', 0, 0, '', '', ['Luft', 'Fußboden'], '', ['spline', 'spline'], ['Zeit', 'Temperatur'], '1h') }}
			</div>
			<div data-role="collapsible">
				<h3>&nbsp;</h3>
				<p></p>
			</div>
		</div>
    </div>

  </div>
{% endblock %}

