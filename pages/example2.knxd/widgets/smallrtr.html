/**
* -----------------------------------------------------------------------------
* @package     smartVISU
* @author      Martin Gleiss and others
* @copyright   2012 - 2025
* @license     GPL [http://www.gnu.de]
* -----------------------------------------------------------------------------
*/

/**
* Small RTR (Room Temperatur Regulator)
*
* @param {id=} unique id for this widget
* @param {text=}     name of the rtr
* @param {item(num)} an item for the actual temperature
* @param {item(num)} an item for the set temperature
* @param {item(bool)} an item for the current state of the actor
* @param {value=0.5} step for plus/minus buttons (optional, default 0.5°)
*/
{% macro one(id, txt, item_actual, item_set, item_state, step) %}
{% import "@widgets/basic.html" as basic %}
{% set uid = uid(page, id) %}

<div id="{{ uid }}" class="rtr">
    <table style="width:100%; text-align: left;">
        <tr>
            <th width="25%">{% if txt %} {{ txt }} {% endif %}</th>
            <td width="15%"><div class="temp">{{ basic.print(id~'actual', item_actual, '°C' ) }}</div></td>
            <td width="15%">
                {% if item_set %}
					{{ basic.offset(id~'minus', item_set, -(step|default(0.5)), 'minus', '', 'micro') }}
				{% endif %}
            </td>
            <td width="15%"><div class="temp">{{ basic.print(id~'set', item_set, '°C' ) }}</div></td>
            <td width="15%">
                {% if item_set %}
                    {{ basic.offset(id~'plus', item_set, (step|default(0.5)), 'plus', '', 'micro') }}
                {% endif %}
            </td>
            <td width="15%">
                {{ basic.symbol(id~'stateon', item_state, '', 'sani_floor_heating.svg', 1, '', 'icon0') }}
                {{ basic.symbol(id~'stateoff', item_state, '', 'sani_floor_heating.svg', 0) }}
            </td>
        </tr>

    </table>

</div>
{% endmacro %}
