/**
 * -----------------------------------------------------------------------------
 * @package     smartVISU
 * @author      Martin Gleiß
 * @copyright   2012
 * @license     GPL <http://www.gnu.de>
 * ----------------------------------------------------------------------------- 
 */
{% extends "base.html" %}

{% block sidebar %}

<ul data-role="listview" data-dividertheme="c">
    <li data-role="list-divider">Strommessung</li>
    <li data-icon="false">
        <a href="index.php?page=temperaturen">
            <img class="icon" src="{{ icon0 }}sani_floor_heating.png"/><h3>Fußbodenheizung</h3>
        </a>
    </li>
    <li data-icon="false">
        <a href="index.php?page=strommessung">
            <img class="icon" src="{{ icon0 }}measure_power.png"/><h3>Strommessung</h3>
        </a>
    </li>
</ul>

{% endblock %} 

{% block content %}

    <h1><img class="icon" src='{{ icon0 }}measure_power.png'/>Strommessung</h1>
    
    <div class="preblock">
		
    </div>

    <div class="block">
    <div class="set-2" data-role="collapsible-set" data-theme="c" data-content-theme="a" data-mini="true">
	<div data-role="collapsible" data-collapsed="false">
        <h3>aktueller Stromverbrauch</h3>
         {% import   "widgets/calculate.html" as calc %}
        <h2>{{ calc.calculate('verbrauchheute', 'Gesamtverbrauch: ', ['15/1/1/13.xxx', '15/1/101/13.xxx', '15/2/1/13.xxx','15/2/101/13.xxx'],'sum', 'kWh', '(', ')/1000', '2') }} </h2>
        <h2>{{ calc.calculate('aktuellerverbrauch', 'aktueller Stromverbrauch: ', ['15/1/0/9.xxx', '15/1/100/9.xxx', '15/2/0/9.xxx','15/2/100/9.xxx'],'sum', 'W', '(', ') / 1000 * 230', '2') }} </h2>
	</div>
    </div>    
    </div> 
    
    <div class="block" style="width: 100%;">
    <div class="set-2" data-role="collapsible-set" data-theme="c" data-content-theme="a" data-mini="true">
        <div data-role="collapsible" data-collapsed="false">
        <h3>aktueller Stromverbrauch Gesamt</h3>
        {{ plot.period('p1', ['15/1/0/9.xxx', '15/1/100/9.xxx', '15/2/0/9.xxx', '15/2/1000/9.xxx'], 'min', '24h', 0, '', '', '', ['SA1', 'SA2', 'SA3', 'SA4'], ['#fff', '#f00', '#0f0', '#00f'], ['line', 'line', 'line','line'], ['', 'Strom in mA']) }}	
        </div>
    </div>
    </div>

    <div class="block" style="width: 100%;">
    <div class="set-2" data-role="collapsible-set" data-theme="c" data-content-theme="a" data-mini="true">
        <div data-role="collapsible" data-collapsed="false">
        <h3>aktueller Stromverbrauch Küche</h3>
        {{ plot.period('p2', ['15/1/22/9.xxx', '15/1/112/9.xxx', '15/2/172/9.xxx'], 'min', '24h', 0, '', '', '', ['Kühlschrank', 'Spülmaschine', 'Mikrowelle'], ['#fff', '#f00', '#0f0'], ['line', 'line', 'line'], ['', 'Strom in mA']) }}
        </div>
    </div>
    </div>
{% endblock %}
